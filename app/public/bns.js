(()=>{var Zn=Object.create;var Ze=Object.defineProperty;var $n=Object.getOwnPropertyDescriptor;var ei=Object.getOwnPropertyNames;var ti=Object.getPrototypeOf,ri=Object.prototype.hasOwnProperty;var I=(e,r)=>Ze(e,"name",{value:r,configurable:!0}),Qr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var S=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Ft=(e,r)=>{for(var t in r)Ze(e,t,{get:r[t],enumerable:!0})},ni=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of ei(r))!ri.call(e,s)&&s!==t&&Ze(e,s,{get:()=>r[s],enumerable:!(n=$n(r,s))||n.enumerable});return e};var Ke=(e,r,t)=>(t=e!=null?Zn(ti(e)):{},ni(r||!e||!e.__esModule?Ze(t,"default",{value:e,enumerable:!0}):t,e));var Kt=S((Uo,mr)=>{mr.exports=br;var $e=class extends Error{static{I(this,"AssertionError")}};$e.prototype.name="AssertionError";function br(e,r){if(!e){var t=new $e(r);throw Error.captureStackTrace&&Error.captureStackTrace(t,br),t}}I(br,"assert")});var Ur=S((Fo,Sr)=>{function Dr(e){return e.length}I(Dr,"byteLength");function ii(e){let r=e.byteLength,t="";for(let n=0;n<r;n++)t+=String.fromCharCode(e[n]);return t}I(ii,"toString");function oi(e,r,t=0,n=Dr(r)){let s=Math.min(n,e.byteLength-t);for(let g=0;g<s;g++)e[t+g]=r.charCodeAt(g);return s}I(oi,"write");Sr.exports={byteLength:Dr,toString:ii,write:oi}});var Kr=S((Yo,Fr)=>{var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae=new Uint8Array(256);for(let e=0;e<_e.length;e++)Ae[_e.charCodeAt(e)]=e;Ae[45]=62;Ae[95]=63;function vr(e){let r=e.length;return e.charCodeAt(r-1)===61&&r--,r>1&&e.charCodeAt(r-1)===61&&r--,r*3>>>2}I(vr,"byteLength");function Ai(e){let r=e.byteLength,t="";for(let n=0;n<r;n+=3)t+=_e[e[n]>>2]+_e[(e[n]&3)<<4|e[n+1]>>4]+_e[(e[n+1]&15)<<2|e[n+2]>>6]+_e[e[n+2]&63];return r%3===2?t=t.substring(0,t.length-1)+"=":r%3===1&&(t=t.substring(0,t.length-2)+"=="),t}I(Ai,"toString");function ai(e,r,t=0,n=vr(r)){let s=Math.min(n,e.byteLength-t);for(let g=0,C=0;C<s;g+=4){let y=Ae[r.charCodeAt(g)],w=Ae[r.charCodeAt(g+1)],x=Ae[r.charCodeAt(g+2)],b=Ae[r.charCodeAt(g+3)];e[C++]=y<<2|w>>4,e[C++]=(w&15)<<4|x>>2,e[C++]=(x&3)<<6|b&63}return s}I(ai,"write");Fr.exports={byteLength:vr,toString:Ai,write:ai}});var Mr=S((Lo,Lr)=>{function kr(e){return e.length>>>1}I(kr,"byteLength");function si(e){let r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,r);let t="",n=0;for(let s=r-r%4;n<s;n+=4)t+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<r;n++)t+=e.getUint8(n).toString(16).padStart(2,"0");return t}I(si,"toString");function Ii(e,r,t=0,n=kr(r)){let s=Math.min(n,e.byteLength-t);for(let g=0;g<s;g++){let C=Yr(r.charCodeAt(g*2)),y=Yr(r.charCodeAt(g*2+1));if(C===void 0||y===void 0)return e.subarray(0,g);e[t+g]=C<<4|y}return s}I(Ii,"write");Lr.exports={byteLength:kr,toString:si,write:Ii};function Yr(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-65+10;if(e>=97&&e<=102)return e-97+10}I(Yr,"hexValue")});var Pr=S((Ho,Hr)=>{function Yt(e){let r=0;for(let t=0,n=e.length;t<n;t++){let s=e.charCodeAt(t);if(s>=55296&&s<=56319&&t+1<n){let g=e.charCodeAt(t+1);if(g>=56320&&g<=57343){r+=4,t++;continue}}s<=127?r+=1:s<=2047?r+=2:r+=3}return r}I(Yt,"byteLength");var kt;if(typeof TextDecoder<"u"){let e=new TextDecoder;kt=I(function(t){return e.decode(t)},"toString")}else kt=I(function(r){let t=r.byteLength,n="",s=0;for(;s<t;){let g=r[s];if(g<=127){n+=String.fromCharCode(g),s++;continue}let C=0,y=0;if(g<=223?(C=1,y=g&31):g<=239?(C=2,y=g&15):g<=244&&(C=3,y=g&7),t-s-C>0){let w=0;for(;w<C;)g=r[s+w+1],y=y<<6|g&63,w+=1}else y=65533,C=t-s;n+=String.fromCodePoint(y),s+=C+1}return n},"toString");var Lt;if(typeof TextEncoder<"u"){let e=new TextEncoder;Lt=I(function(t,n,s=0,g=Yt(n)){let C=Math.min(g,t.byteLength-s);return e.encodeInto(n,t.subarray(s,s+C)),C},"write")}else Lt=I(function(r,t,n=0,s=Yt(t)){let g=Math.min(s,r.byteLength-n);r=r.subarray(n,n+g);let C=0,y=0;for(;C<t.length;){let w=t.codePointAt(C);if(w<=127){r[y++]=w,C++;continue}let x=0,b=0;for(w<=2047?(x=6,b=192):w<=65535?(x=12,b=224):w<=2097151&&(x=18,b=240),r[y++]=b|w>>x,x-=6;x>=0;)r[y++]=128|w>>x&63,x-=6;C+=w>=65536?2:1}return g},"write");Hr.exports={byteLength:Yt,toString:kt,write:Lt}});var Gr=S((Vo,Or)=>{function Vr(e){return e.length*2}I(Vr,"byteLength");function hi(e){let r=e.byteLength,t="";for(let n=0;n<r-1;n+=2)t+=String.fromCharCode(e[n]+e[n+1]*256);return t}I(hi,"toString");function ci(e,r,t=0,n=Vr(r)){let s=Math.min(n,e.byteLength-t),g=s;for(let C=0;C<r.length&&!((g-=2)<0);++C){let y=r.charCodeAt(C),w=y>>8,x=y%256;e[t+C*2]=x,e[t+C*2+1]=w}return s}I(ci,"write");Or.exports={byteLength:Vr,toString:hi,write:ci}});var Jr=S((Ht,jr)=>{var gi=Ur(),fi=Kr(),ui=Mr(),li=Pr(),Ci=Gr(),et=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function Ye(e){switch(e){case"ascii":return gi;case"base64":return fi;case"hex":return ui;case"utf8":case"utf-8":case void 0:return li;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ci;default:throw new Error(`Unknown encoding: ${e}`)}}I(Ye,"codecFor");function Rr(e){return e instanceof Uint8Array}I(Rr,"isBuffer");function _i(e){try{return Ye(e),!0}catch{return!1}}I(_i,"isEncoding");function yi(e,r,t){let n=new Uint8Array(e);return r!==void 0&&Ht.fill(n,r,0,n.byteLength,t),n}I(yi,"alloc");function di(e){return new Uint8Array(e)}I(di,"allocUnsafe");function wi(e){return new Uint8Array(e)}I(wi,"allocUnsafeSlow");function Ei(e,r){return Ye(r).byteLength(e)}I(Ei,"byteLength");function xi(e,r){if(e===r)return 0;let t=Math.min(e.byteLength,r.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),r=new DataView(r.buffer,r.byteOffset,r.byteLength);let n=0;for(let s=t-t%4;n<s;n+=4){let g=e.getUint32(n,et),C=r.getUint32(n,et);if(g!==C)break}for(;n<t;n++){let s=e.getUint8(n),g=r.getUint8(n);if(s<g)return-1;if(s>g)return 1}return e.byteLength>r.byteLength?1:e.byteLength<r.byteLength?-1:0}I(xi,"compare");function Bi(e,r){r===void 0&&(r=e.reduce((s,g)=>s+g.byteLength,0));let t=new Uint8Array(r),n=0;for(let s of e){if(n+s.byteLength>t.byteLength){let g=s.subarray(0,t.byteLength-n);return t.set(g,n),t}t.set(s,n),n+=s.byteLength}return t}I(Bi,"concat");function pi(e,r,t=0,n=0,s=e.byteLength){if(s>0&&s<n||s===n||e.byteLength===0||r.byteLength===0)return 0;if(t<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(s<0)throw new RangeError("sourceEnd is out of range");t>=r.byteLength&&(t=r.byteLength),s>e.byteLength&&(s=e.byteLength),r.byteLength-t<s-n&&(s=r.length-t+n);let g=s-n;return e===r?r.copyWithin(t,n,s):r.set(e.subarray(n,s),t),g}I(pi,"copy");function Qi(e,r){if(e===r)return!0;if(e.byteLength!==r.byteLength)return!1;let t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),r=new DataView(r.buffer,r.byteOffset,r.byteLength);let n=0;for(let s=t-t%4;n<s;n+=4)if(e.getUint32(n,et)!==r.getUint32(n,et))return!1;for(;n<t;n++)if(e.getUint8(n)!==r.getUint8(n))return!1;return!0}I(Qi,"equals");function bi(e,r,t,n,s){if(typeof r=="string"?typeof t=="string"?(s=t,t=0,n=e.byteLength):typeof n=="string"&&(s=n,n=e.byteLength):typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=+r),t<0||e.byteLength<t||e.byteLength<n)throw new RangeError("Out of range index");if(t===void 0&&(t=0),n===void 0&&(n=e.byteLength),n<=t)return e;if(r||(r=0),typeof r=="number")for(let g=t;g<n;++g)e[g]=r;else{r=Rr(r)?r:Mt(r,s);let g=r.byteLength;for(let C=0;C<n-t;++C)e[C+t]=r[C%g]}return e}I(bi,"fill");function Mt(e,r,t){return typeof e=="string"?mi(e,r):Array.isArray(e)?Di(e):ArrayBuffer.isView(e)?Si(e):Ui(e,r,t)}I(Mt,"from");function mi(e,r){let t=Ye(r),n=new Uint8Array(t.byteLength(e));return t.write(n,e,0,n.byteLength),n}I(mi,"fromString");function Di(e){let r=new Uint8Array(e.length);return r.set(e),r}I(Di,"fromArray");function Si(e){let r=new Uint8Array(e.byteLength);return r.set(e),r}I(Si,"fromBuffer");function Ui(e,r,t){return new Uint8Array(e,r,t)}I(Ui,"fromArrayBuffer");function vi(e,r,t,n){return Tr(e,r,t,n)!==-1}I(vi,"includes");function Nr(e,r,t,n,s){if(e.byteLength===0)return-1;if(typeof t=="string"?(n=t,t=0):t===void 0?t=s?0:e.length-1:t<0&&(t+=e.byteLength),t>=e.byteLength){if(s)return-1;t=e.byteLength-1}else if(t<0)if(s)t=0;else return-1;if(typeof r=="string")r=Mt(r,n);else if(typeof r=="number")return r=r&255,s?e.indexOf(r,t):e.lastIndexOf(r,t);if(r.byteLength===0)return-1;if(s){let g=-1;for(let C=t;C<e.byteLength;C++)if(e[C]===r[g===-1?0:C-g]){if(g===-1&&(g=C),C-g+1===r.byteLength)return g}else g!==-1&&(C-=C-g),g=-1}else{t+r.byteLength>e.byteLength&&(t=e.byteLength-r.byteLength);for(let g=t;g>=0;g--){let C=!0;for(let y=0;y<r.byteLength;y++)if(e[g+y]!==r[y]){C=!1;break}if(C)return g}}return-1}I(Nr,"bidirectionalIndexOf");function Tr(e,r,t,n){return Nr(e,r,t,n,!0)}I(Tr,"indexOf");function Fi(e,r,t,n){return Nr(e,r,t,n,!1)}I(Fi,"lastIndexOf");function ae(e,r,t){let n=e[r];e[r]=e[t],e[t]=n}I(ae,"swap");function Ki(e){let r=e.byteLength;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<r;t+=2)ae(e,t,t+1);return e}I(Ki,"swap16");function Yi(e){let r=e.byteLength;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<r;t+=4)ae(e,t,t+3),ae(e,t+1,t+2);return e}I(Yi,"swap32");function ki(e){let r=e.byteLength;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<r;t+=8)ae(e,t,t+7),ae(e,t+1,t+6),ae(e,t+2,t+5),ae(e,t+3,t+4);return e}I(ki,"swap64");function Li(e){return e}I(Li,"toBuffer");function Mi(e,r,t=0,n=e.byteLength){let s=e.byteLength;return t>=s||n<=t?"":(t<0&&(t=0),n>s&&(n=s),(t!==0||n<s)&&(e=e.subarray(t,n)),Ye(r).toString(e))}I(Mi,"toString");function Hi(e,r,t,n,s){return t===void 0?s="utf8":n===void 0&&typeof t=="string"?(s=t,t=void 0):s===void 0&&typeof n=="string"&&(s=n,n=void 0),Ye(s).write(e,r,t,n)}I(Hi,"write");function Pi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(t,r,!0),t+8}I(Pi,"writeDoubleLE");function Vi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(t,r,!0),t+4}I(Vi,"writeFloatLE");function Oi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(t,r,!0),t+4}I(Oi,"writeUInt32LE");function Gi(e,r,t){return t===void 0&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(t,r,!0),t+4}I(Gi,"writeInt32LE");function Ri(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(r,!0)}I(Ri,"readDoubleLE");function Ni(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(r,!0)}I(Ni,"readFloatLE");function Ti(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(r,!0)}I(Ti,"readUInt32LE");function ji(e,r){return r===void 0&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(r,!0)}I(ji,"readInt32LE");jr.exports=Ht={isBuffer:Rr,isEncoding:_i,alloc:yi,allocUnsafe:di,allocUnsafeSlow:wi,byteLength:Ei,compare:xi,concat:Bi,copy:pi,equals:Qi,fill:bi,from:Mt,includes:vi,indexOf:Tr,lastIndexOf:Fi,swap16:Ki,swap32:Yi,swap64:ki,toBuffer:Li,toString:Mi,write:Hi,writeDoubleLE:Pi,writeFloatLE:Vi,writeUInt32LE:Oi,writeInt32LE:Gi,readDoubleLE:Ri,readFloatLE:Ni,readUInt32LE:Ti,readInt32LE:ji}});var qr=S((Ro,Xr)=>{var Ji=I((e,r)=>I(function(){return r||(0,e[Object.keys(e)[0]])((r={exports:{}}).exports,r),r.exports},"__require"),"__commonJS"),Xi=(()=>{for(var e=new Uint8Array(128),r=0;r<64;r++)e[r<26?r+65:r<52?r+71:r<62?r-4:r*4-205]=r;return t=>{for(var n=t.length,s=new Uint8Array((n-(t[n-1]=="=")-(t[n-2]=="="))*3/4|0),g=0,C=0;g<n;){var y=e[t.charCodeAt(g++)],w=e[t.charCodeAt(g++)],x=e[t.charCodeAt(g++)],b=e[t.charCodeAt(g++)];s[C++]=y<<2|w>>4,s[C++]=w<<4|x>>2,s[C++]=x<<6|b}return s}})(),qi=Ji({"wasm-binary:./blake2b.wat"(e,r){r.exports=Xi("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")}}),zi=qi(),Wi=WebAssembly.compile(zi);Xr.exports=async e=>(await WebAssembly.instantiate(await Wi,e)).exports});var nn=S((Jo,J)=>{var M=Kt(),Zi=Jr(),W=null,zr=typeof WebAssembly<"u"&&qr()().then(e=>{W=e}),z=64,tt=[];J.exports=Y;var Wr=J.exports.BYTES_MIN=16,Zr=J.exports.BYTES_MAX=64,To=J.exports.BYTES=32,$r=J.exports.KEYBYTES_MIN=16,en=J.exports.KEYBYTES_MAX=64,jo=J.exports.KEYBYTES=32,tn=J.exports.SALTBYTES=16,rn=J.exports.PERSONALBYTES=16;function Y(e,r,t,n,s){if(!(this instanceof Y))return new Y(e,r,t,n,s);if(!W)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),s!==!0&&(M(e>=Wr,"digestLength must be at least "+Wr+", was given "+e),M(e<=Zr,"digestLength must be at most "+Zr+", was given "+e),r!=null&&(M(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),M(r.length>=$r,"key must be at least "+$r+", was given "+r.length),M(r.length<=en,"key must be at least "+en+", was given "+r.length)),t!=null&&(M(t instanceof Uint8Array,"salt must be Uint8Array or Buffer"),M(t.length===tn,"salt must be exactly "+tn+", was given "+t.length)),n!=null&&(M(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),M(n.length===rn,"personal must be exactly "+rn+", was given "+n.length))),tt.length||(tt.push(z),z+=216),this.digestLength=e,this.finalized=!1,this.pointer=tt.pop(),this._memory=new Uint8Array(W.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=r?r.length:0,this._memory[2]=1,this._memory[3]=1,t&&this._memory.set(t,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),W.blake2b_init(this.pointer,this.digestLength),r&&(this.update(r),this._memory.fill(0,z,z+r.length),this._memory[this.pointer+200]=128)}I(Y,"Blake2b");Y.prototype._realloc=function(e){W.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(W.memory.buffer)};Y.prototype.update=function(e){return M(this.finalized===!1,"Hash instance finalized"),M(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),z+e.length>this._memory.length&&this._realloc(z+e.length),this._memory.set(e,z),W.blake2b_update(this.pointer,z,z+e.length),this};Y.prototype.digest=function(e){if(M(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,tt.push(this.pointer),W.blake2b_final(this.pointer),!e||e==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof e=="string")return Zi.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);M(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var r=0;r<this.digestLength;r++)e[r]=this._memory[this.pointer+128+r];return e};Y.prototype.final=Y.prototype.digest;Y.WASM=W;Y.SUPPORTED=typeof WebAssembly<"u";Y.ready=function(e){return e||(e=$i),zr?zr.then(()=>e(),e):e(new Error("WebAssembly not supported"))};Y.prototype.ready=Y.ready;Y.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Y.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)};function $i(){}I($i,"noop")});var Pt=S((Wo,k)=>{var P=Kt(),Le=nn();function rt(e,r,t){var n=e[r]+e[t],s=e[r+1]+e[t+1];n>=4294967296&&s++,e[r]=n,e[r+1]=s}I(rt,"ADD64AA");function on(e,r,t,n){var s=e[r]+t;t<0&&(s+=4294967296);var g=e[r+1]+n;s>=4294967296&&g++,e[r]=s,e[r+1]=g}I(on,"ADD64AC");function gn(e,r){return e[r]^e[r+1]<<8^e[r+2]<<16^e[r+3]<<24}I(gn,"B2B_GET32");function te(e,r,t,n,s,g){var C=ke[s],y=ke[s+1],w=ke[g],x=ke[g+1];rt(B,e,r),on(B,e,C,y);var b=B[n]^B[e],D=B[n+1]^B[e+1];B[n]=D,B[n+1]=b,rt(B,t,n),b=B[r]^B[t],D=B[r+1]^B[t+1],B[r]=b>>>24^D<<8,B[r+1]=D>>>24^b<<8,rt(B,e,r),on(B,e,w,x),b=B[n]^B[e],D=B[n+1]^B[e+1],B[n]=b>>>16^D<<16,B[n+1]=D>>>16^b<<16,rt(B,t,n),b=B[r]^B[t],D=B[r+1]^B[t+1],B[r]=D>>>31^b<<1,B[r+1]=b>>>31^D<<1}I(te,"B2B_G");var fn=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),eo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],v=new Uint8Array(eo.map(function(e){return e*2})),B=new Uint32Array(32),ke=new Uint32Array(32);function un(e,r){var t=0;for(t=0;t<16;t++)B[t]=e.h[t],B[t+16]=fn[t];for(B[24]=B[24]^e.t,B[25]=B[25]^e.t/4294967296,r&&(B[28]=~B[28],B[29]=~B[29]),t=0;t<32;t++)ke[t]=gn(e.b,4*t);for(t=0;t<12;t++)te(0,8,16,24,v[t*16+0],v[t*16+1]),te(2,10,18,26,v[t*16+2],v[t*16+3]),te(4,12,20,28,v[t*16+4],v[t*16+5]),te(6,14,22,30,v[t*16+6],v[t*16+7]),te(0,10,20,30,v[t*16+8],v[t*16+9]),te(2,12,22,24,v[t*16+10],v[t*16+11]),te(4,14,16,26,v[t*16+12],v[t*16+13]),te(6,8,18,28,v[t*16+14],v[t*16+15]);for(t=0;t<16;t++)e.h[t]=e.h[t]^B[t]^B[t+16]}I(un,"blake2bCompress");var re=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function ye(e,r,t,n){re.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,re[0]=e,r&&(re[1]=r.length),re[2]=1,re[3]=1,t&&re.set(t,32),n&&re.set(n,48);for(var s=0;s<16;s++)this.h[s]=fn[s]^gn(re,s*4);r&&(ln(this,r),this.c=128)}I(ye,"Blake2b");ye.prototype.update=function(e){return P(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),ln(this,e),this};ye.prototype.digest=function(e){var r=!e||e==="binary"||e==="hex"?new Uint8Array(this.outlen):e;return P(r instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),P(r.length>=this.outlen,"out must have at least outlen bytes of space"),to(this,r),e==="hex"?ro(r):r};ye.prototype.final=ye.prototype.digest;ye.ready=function(e){Le.ready(function(){e()})};function ln(e,r){for(var t=0;t<r.length;t++)e.c===128&&(e.t+=e.c,un(e,!1),e.c=0),e.b[e.c++]=r[t]}I(ln,"blake2bUpdate");function to(e,r){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;un(e,!0);for(var t=0;t<e.outlen;t++)r[t]=e.h[t>>2]>>8*(t&3);return r}I(to,"blake2bFinal");function ro(e){for(var r="",t=0;t<e.length;t++)r+=no(e[t]);return r}I(ro,"hexSlice");function no(e){return e<16?"0"+e.toString(16):e.toString(16)}I(no,"toHex");var io=ye;k.exports=I(function(r,t,n,s,g){return g!==!0&&(P(r>=An,"outlen must be at least "+An+", was given "+r),P(r<=an,"outlen must be at most "+an+", was given "+r),t!=null&&(P(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),P(t.length>=sn,"key must be at least "+sn+", was given "+t.length),P(t.length<=In,"key must be at most "+In+", was given "+t.length)),n!=null&&(P(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),P(n.length===hn,"salt must be exactly "+hn+", was given "+n.length)),s!=null&&(P(s instanceof Uint8Array,"personal must be Uint8Array or Buffer"),P(s.length===cn,"personal must be exactly "+cn+", was given "+s.length))),new io(r,t,n,s)},"createHash");k.exports.ready=function(e){Le.ready(function(){e()})};k.exports.WASM_SUPPORTED=Le.SUPPORTED;k.exports.WASM_LOADED=!1;var An=k.exports.BYTES_MIN=16,an=k.exports.BYTES_MAX=64,qo=k.exports.BYTES=32,sn=k.exports.KEYBYTES_MIN=16,In=k.exports.KEYBYTES_MAX=64,zo=k.exports.KEYBYTES=32,hn=k.exports.SALTBYTES=16,cn=k.exports.PERSONALBYTES=16;Le.ready(function(e){e||(k.exports.WASM_LOADED=!0,k.exports=Le)})});var Cn=S(($o,nt)=>{(function(e){"use strict";let r=Pt();var t=I(function(i,A){this.hi=i|0,this.lo=A|0},"u64"),n=I(function(i){var A,o=new Float64Array(16);if(i)for(A=0;A<i.length;A++)o[A]=i[A];return o},"gf"),s=I(function(){throw new Error("no PRNG")},"randombytes"),g=new Uint8Array(16),C=new Uint8Array(32);C[0]=9;var y=n(),w=n([1]),x=n([56129,1]),b=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),K=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),$=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),pe=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ee(i,A){return i<<A|i>>>32-A}I(ee,"L32");function he(i,A){var o=i[A+3]&255;return o=o<<8|i[A+2]&255,o=o<<8|i[A+1]&255,o<<8|i[A+0]&255}I(he,"ld32");function rr(i,A){var o=i[A]<<24|i[A+1]<<16|i[A+2]<<8|i[A+3],a=i[A+4]<<24|i[A+5]<<16|i[A+6]<<8|i[A+7];return new t(o,a)}I(rr,"dl64");function ft(i,A,o){var a;for(a=0;a<4;a++)i[A+a]=o&255,o>>>=8}I(ft,"st32");function nr(i,A,o){i[A]=o.hi>>24&255,i[A+1]=o.hi>>16&255,i[A+2]=o.hi>>8&255,i[A+3]=o.hi&255,i[A+4]=o.lo>>24&255,i[A+5]=o.lo>>16&255,i[A+6]=o.lo>>8&255,i[A+7]=o.lo&255}I(nr,"ts64");function ut(i,A,o,a,h){var c,l=0;for(c=0;c<h;c++)l|=i[A+c]^o[a+c];return(1&l-1>>>8)-1}I(ut,"vn");function ir(i,A,o,a){return ut(i,A,o,a,16)}I(ir,"crypto_verify_16");function lt(i,A,o,a){return ut(i,A,o,a,32)}I(lt,"crypto_verify_32");function or(i,A,o,a,h){var c=new Uint32Array(16),l=new Uint32Array(16),_=new Uint32Array(16),f=new Uint32Array(4),u,d,Q;for(u=0;u<4;u++)l[5*u]=he(a,4*u),l[1+u]=he(o,4*u),l[6+u]=he(A,4*u),l[11+u]=he(o,16+4*u);for(u=0;u<16;u++)_[u]=l[u];for(u=0;u<20;u++){for(d=0;d<4;d++){for(Q=0;Q<4;Q++)f[Q]=l[(5*d+4*Q)%16];for(f[1]^=ee(f[0]+f[3]|0,7),f[2]^=ee(f[1]+f[0]|0,9),f[3]^=ee(f[2]+f[1]|0,13),f[0]^=ee(f[3]+f[2]|0,18),Q=0;Q<4;Q++)c[4*d+(d+Q)%4]=f[Q]}for(Q=0;Q<16;Q++)l[Q]=c[Q]}if(h){for(u=0;u<16;u++)l[u]=l[u]+_[u]|0;for(u=0;u<4;u++)l[5*u]=l[5*u]-he(a,4*u)|0,l[6+u]=l[6+u]-he(A,4*u)|0;for(u=0;u<4;u++)ft(i,4*u,l[5*u]),ft(i,16+4*u,l[6+u])}else for(u=0;u<16;u++)ft(i,4*u,l[u]+_[u]|0)}I(or,"core");function Ar(i,A,o,a){return or(i,A,o,a,!1),0}I(Ar,"crypto_core_salsa20");function Ge(i,A,o,a){return or(i,A,o,a,!0),0}I(Ge,"crypto_core_hsalsa20");var Qe=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ct(i,A,o,a,h,c,l){var _=new Uint8Array(16),f=new Uint8Array(64),u,d;if(!h)return 0;for(d=0;d<16;d++)_[d]=0;for(d=0;d<8;d++)_[d]=c[d];for(;h>=64;){for(Ar(f,_,l,Qe),d=0;d<64;d++)i[A+d]=(o?o[a+d]:0)^f[d];for(u=1,d=8;d<16;d++)u=u+(_[d]&255)|0,_[d]=u&255,u>>>=8;h-=64,A+=64,o&&(a+=64)}if(h>0)for(Ar(f,_,l,Qe),d=0;d<h;d++)i[A+d]=(o?o[a+d]:0)^f[d];return 0}I(Ct,"crypto_stream_salsa20_xor");function ar(i,A,o,a,h){return Ct(i,A,null,0,o,a,h)}I(ar,"crypto_stream_salsa20");function sr(i,A,o,a,h){var c=new Uint8Array(32);return Ge(c,a,h,Qe),ar(i,A,o,a.subarray(16),c)}I(sr,"crypto_stream");function _t(i,A,o,a,h,c,l){var _=new Uint8Array(32);return Ge(_,c,l,Qe),Ct(i,A,o,a,h,c.subarray(16),_)}I(_t,"crypto_stream_xor");function yt(i,A){var o,a=0;for(o=0;o<17;o++)a=a+(i[o]+A[o]|0)|0,i[o]=a&255,a>>>=8}I(yt,"add1305");var Ln=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function dt(i,A,o,a,h,c){var l,_,f,u,d=new Uint32Array(17),Q=new Uint32Array(17),m=new Uint32Array(17),R=new Uint32Array(17),Ce=new Uint32Array(17);for(f=0;f<17;f++)Q[f]=m[f]=0;for(f=0;f<16;f++)Q[f]=c[f];for(Q[3]&=15,Q[4]&=252,Q[7]&=15,Q[8]&=252,Q[11]&=15,Q[12]&=252,Q[15]&=15;h>0;){for(f=0;f<17;f++)R[f]=0;for(f=0;f<16&&f<h;++f)R[f]=o[a+f];for(R[f]=1,a+=f,h-=f,yt(m,R),_=0;_<17;_++)for(d[_]=0,f=0;f<17;f++)d[_]=d[_]+m[f]*(f<=_?Q[_-f]:320*Q[_+17-f]|0)|0|0;for(_=0;_<17;_++)m[_]=d[_];for(u=0,f=0;f<16;f++)u=u+m[f]|0,m[f]=u&255,u>>>=8;for(u=u+m[16]|0,m[16]=u&3,u=5*(u>>>2)|0,f=0;f<16;f++)u=u+m[f]|0,m[f]=u&255,u>>>=8;u=u+m[16]|0,m[16]=u}for(f=0;f<17;f++)Ce[f]=m[f];for(yt(m,Ln),l=-(m[16]>>>7)|0,f=0;f<17;f++)m[f]^=l&(Ce[f]^m[f]);for(f=0;f<16;f++)R[f]=c[f+16];for(R[16]=0,yt(m,R),f=0;f<16;f++)i[A+f]=m[f];return 0}I(dt,"crypto_onetimeauth");function Ir(i,A,o,a,h,c){var l=new Uint8Array(16);return dt(l,0,o,a,h,c),ir(i,A,l,0)}I(Ir,"crypto_onetimeauth_verify");function wt(i,A,o,a,h){var c;if(o<32)return-1;for(_t(i,0,A,0,o,a,h),dt(i,16,i,32,o-32,i),c=0;c<16;c++)i[c]=0;return 0}I(wt,"crypto_secretbox");function Et(i,A,o,a,h){var c,l=new Uint8Array(32);if(o<32||(sr(l,0,32,a,h),Ir(A,16,A,32,o-32,l)!==0))return-1;for(_t(i,0,A,0,o,a,h),c=0;c<32;c++)i[c]=0;return 0}I(Et,"crypto_secretbox_open");function X(i,A){var o;for(o=0;o<16;o++)i[o]=A[o]|0}I(X,"set25519");function be(i){var A,o;for(o=0;o<16;o++)i[o]+=65536,A=Math.floor(i[o]/65536),i[(o+1)*(o<15?1:0)]+=A-1+37*(A-1)*(o===15?1:0),i[o]-=A*65536}I(be,"car25519");function ce(i,A,o){for(var a,h=~(o-1),c=0;c<16;c++)a=h&(i[c]^A[c]),i[c]^=a,A[c]^=a}I(ce,"sel25519");function ge(i,A){var o,a,h,c=n(),l=n();for(o=0;o<16;o++)l[o]=A[o];for(be(l),be(l),be(l),a=0;a<2;a++){for(c[0]=l[0]-65517,o=1;o<15;o++)c[o]=l[o]-65535-(c[o-1]>>16&1),c[o-1]&=65535;c[15]=l[15]-32767-(c[14]>>16&1),h=c[15]>>16&1,c[14]&=65535,ce(l,c,1-h)}for(o=0;o<16;o++)i[2*o]=l[o]&255,i[2*o+1]=l[o]>>8}I(ge,"pack25519");function hr(i,A){var o=new Uint8Array(32),a=new Uint8Array(32);return ge(o,i),ge(a,A),lt(o,0,a,0)}I(hr,"neq25519");function cr(i){var A=new Uint8Array(32);return ge(A,i),A[0]&1}I(cr,"par25519");function xt(i,A){var o;for(o=0;o<16;o++)i[o]=A[2*o]+(A[2*o+1]<<8);i[15]&=32767}I(xt,"unpack25519");function O(i,A,o){var a;for(a=0;a<16;a++)i[a]=A[a]+o[a]|0}I(O,"A");function G(i,A,o){var a;for(a=0;a<16;a++)i[a]=A[a]-o[a]|0}I(G,"Z");function p(i,A,o){var a,h,c=new Float64Array(31);for(a=0;a<31;a++)c[a]=0;for(a=0;a<16;a++)for(h=0;h<16;h++)c[a+h]+=A[a]*o[h];for(a=0;a<15;a++)c[a]+=38*c[a+16];for(a=0;a<16;a++)i[a]=c[a];be(i),be(i)}I(p,"M");function H(i,A){p(i,A,A)}I(H,"S");function gr(i,A){var o=n(),a;for(a=0;a<16;a++)o[a]=A[a];for(a=253;a>=0;a--)H(o,o),a!==2&&a!==4&&p(o,o,A);for(a=0;a<16;a++)i[a]=o[a]}I(gr,"inv25519");function fr(i,A){var o=n(),a;for(a=0;a<16;a++)o[a]=A[a];for(a=250;a>=0;a--)H(o,o),a!==1&&p(o,o,A);for(a=0;a<16;a++)i[a]=o[a]}I(fr,"pow2523");function Re(i,A,o){var a=new Uint8Array(32),h=new Float64Array(80),c,l,_=n(),f=n(),u=n(),d=n(),Q=n(),m=n();for(l=0;l<31;l++)a[l]=A[l];for(a[31]=A[31]&127|64,a[0]&=248,xt(h,o),l=0;l<16;l++)f[l]=h[l],d[l]=_[l]=u[l]=0;for(_[0]=d[0]=1,l=254;l>=0;--l)c=a[l>>>3]>>>(l&7)&1,ce(_,f,c),ce(u,d,c),O(Q,_,u),G(_,_,u),O(u,f,d),G(f,f,d),H(d,Q),H(m,_),p(_,u,_),p(u,f,Q),O(Q,_,u),G(_,_,u),H(f,_),G(u,d,m),p(_,u,x),O(_,_,d),p(u,u,_),p(_,d,m),p(d,f,h),H(f,Q),ce(_,f,c),ce(u,d,c);for(l=0;l<16;l++)h[l+16]=_[l],h[l+32]=u[l],h[l+48]=f[l],h[l+64]=d[l];var R=h.subarray(32),Ce=h.subarray(16);return gr(R,R),p(Ce,Ce,R),ge(i,Ce),0}I(Re,"crypto_scalarmult");function Ne(i,A){return Re(i,A,C)}I(Ne,"crypto_scalarmult_base");function ur(i,A){return s(A,32),Ne(i,A)}I(ur,"crypto_box_keypair");function Te(i,A,o){var a=new Uint8Array(32);return Re(a,o,A),Ge(i,g,a,Qe)}I(Te,"crypto_box_beforenm");var lr=wt,Mn=Et;function Hn(i,A,o,a,h,c){var l=new Uint8Array(32);return Te(l,h,c),lr(i,A,o,a,l)}I(Hn,"crypto_box");function Pn(i,A,o,a,h,c){var l=new Uint8Array(32);return Te(l,h,c),Mn(i,A,o,a,l)}I(Pn,"crypto_box_open");function me(){var i=0,A=0,o=0,a=0,h=65535,c,l,_;for(_=0;_<arguments.length;_++)c=arguments[_].lo,l=arguments[_].hi,i+=c&h,A+=c>>>16,o+=l&h,a+=l>>>16;return A+=i>>>16,o+=A>>>16,a+=o>>>16,new t(o&h|a<<16,i&h|A<<16)}I(me,"add64");function Cr(i,A){return new t(i.hi>>>A,i.lo>>>A|i.hi<<32-A)}I(Cr,"shr64");function je(){var i=0,A=0,o;for(o=0;o<arguments.length;o++)i^=arguments[o].lo,A^=arguments[o].hi;return new t(A,i)}I(je,"xor64");function j(i,A){var o,a,h=32-A;return A<32?(o=i.hi>>>A|i.lo<<h,a=i.lo>>>A|i.hi<<h):A<64&&(o=i.lo>>>A|i.hi<<h,a=i.hi>>>A|i.lo<<h),new t(o,a)}I(j,"R");function Vn(i,A,o){var a=i.hi&A.hi^~i.hi&o.hi,h=i.lo&A.lo^~i.lo&o.lo;return new t(a,h)}I(Vn,"Ch");function On(i,A,o){var a=i.hi&A.hi^i.hi&o.hi^A.hi&o.hi,h=i.lo&A.lo^i.lo&o.lo^A.lo&o.lo;return new t(a,h)}I(On,"Maj");function Gn(i){return je(j(i,28),j(i,34),j(i,39))}I(Gn,"Sigma0");function Rn(i){return je(j(i,14),j(i,18),j(i,41))}I(Rn,"Sigma1");function Nn(i){return je(j(i,1),j(i,8),Cr(i,7))}I(Nn,"sigma0");function Tn(i){return je(j(i,19),j(i,61),Cr(i,6))}I(Tn,"sigma1");var jn=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function _r(i,A,o){var a=[],h=[],c=[],l=[],_,f,u;for(f=0;f<8;f++)a[f]=c[f]=rr(i,8*f);for(var d=0;o>=128;){for(f=0;f<16;f++)l[f]=rr(A,8*f+d);for(f=0;f<80;f++){for(u=0;u<8;u++)h[u]=c[u];for(_=me(c[7],Rn(c[4]),Vn(c[4],c[5],c[6]),jn[f],l[f%16]),h[7]=me(_,Gn(c[0]),On(c[0],c[1],c[2])),h[3]=me(h[3],_),u=0;u<8;u++)c[(u+1)%8]=h[u];if(f%16===15)for(u=0;u<16;u++)l[u]=me(l[u],l[(u+9)%16],Nn(l[(u+1)%16]),Tn(l[(u+14)%16]))}for(f=0;f<8;f++)c[f]=me(c[f],a[f]),a[f]=c[f];d+=128,o-=128}for(f=0;f<8;f++)nr(i,8*f,a[f]);return o}I(_r,"crypto_hashblocks");let fe=I((i,A)=>r(A).update(i).digest(),"crypto_hash_blake2b");var Jn=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function yr(i,A,o){var a=new Uint8Array(64),h=new Uint8Array(256),c,l=o;for(c=0;c<64;c++)a[c]=Jn[c];for(_r(a,A,o),o%=128,c=0;c<256;c++)h[c]=0;for(c=0;c<o;c++)h[c]=A[l-o+c];for(h[o]=128,o=256-128*(o<112?1:0),h[o-9]=0,nr(h,o-8,new t(l/536870912|0,l<<3)),_r(a,h,o),c=0;c<64;c++)i[c]=a[c];return 0}I(yr,"crypto_hash");function Je(i,A){var o=n(),a=n(),h=n(),c=n(),l=n(),_=n(),f=n(),u=n(),d=n();G(o,i[1],i[0]),G(d,A[1],A[0]),p(o,o,d),O(a,i[0],i[1]),O(d,A[0],A[1]),p(a,a,d),p(h,i[3],A[3]),p(h,h,D),p(c,i[2],A[2]),O(c,c,c),G(l,a,o),G(_,c,h),O(f,c,h),O(u,a,o),p(i[0],l,_),p(i[1],u,f),p(i[2],f,_),p(i[3],l,u)}I(Je,"add");function dr(i,A,o){var a;for(a=0;a<4;a++)ce(i[a],A[a],o)}I(dr,"cswap");function Xe(i,A){var o=n(),a=n(),h=n();gr(h,A[2]),p(o,A[0],h),p(a,A[1],h),ge(i,a),i[31]^=cr(o)<<7}I(Xe,"pack");function Bt(i,A,o){var a,h;for(X(i[0],y),X(i[1],w),X(i[2],w),X(i[3],y),h=255;h>=0;--h)a=o[h/8|0]>>(h&7)&1,dr(i,A,a),Je(A,i),Je(i,i),dr(i,A,a)}I(Bt,"scalarmult");function De(i,A){var o=[n(),n(),n(),n()];X(o[0],K),X(o[1],$),X(o[2],w),p(o[3],K,$),Bt(i,o,A)}I(De,"scalarbase");function pt(i,A,o){var a=new Uint8Array(64),h=[n(),n(),n(),n()],c;o||s(A,32);a=fe(A,64),a[0]&=248,a[31]&=127,a[31]|=64,De(h,a),Xe(i,h);return 0}I(pt,"crypto_sign_keypair");var qe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Qt(i,A){var o,a,h,c;for(a=63;a>=32;--a){for(o=0,h=a-32,c=a-12;h<c;++h)A[h]+=o-16*A[a]*qe[h-(a-32)],o=Math.floor((A[h]+128)/256),A[h]-=o*256;A[h]+=o,A[a]=0}for(o=0,h=0;h<32;h++)A[h]+=o-(A[31]>>4)*qe[h],o=A[h]>>8,A[h]&=255;for(h=0;h<32;h++)A[h]-=o*qe[h];for(a=0;a<32;a++)A[a+1]+=A[a]>>8,i[a]=A[a]&255}I(Qt,"modL");function bt(i){var A=new Float64Array(64),o;for(o=0;o<64;o++)A[o]=i[o];for(o=0;o<64;o++)i[o]=0;Qt(i,A)}I(bt,"reduce");function wr(i,A,o,a){var h=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),_,f,u=new Float64Array(64),d=[n(),n(),n(),n()];let Q=pr(a);h=fe(a,64),h[0]&=248,h[31]&=127,h[31]|=64;var m=o+64;for(_=0;_<o;_++)i[64+_]=A[_];for(_=0;_<32;_++)i[32+_]=h[32+_];for(l=fe(i.subarray(32),64),bt(l),De(d,l),Xe(i,d),_=32;_<64;_++)i[_]=Q[_-32];for(c=fe(i,64),bt(c),_=0;_<64;_++)u[_]=0;for(_=0;_<32;_++)u[_]=l[_];for(_=0;_<32;_++)for(f=0;f<32;f++)u[_+f]+=c[_]*h[f];return Qt(i.subarray(32),u),m}I(wr,"crypto_sign");function Xn(i,A){var o=n(),a=n(),h=n(),c=n(),l=n(),_=n(),f=n();return X(i[2],w),xt(i[1],A),H(h,i[1]),p(c,h,b),G(h,h,i[2]),O(c,i[2],c),H(l,c),H(_,l),p(f,_,l),p(o,f,h),p(o,o,c),fr(o,o),p(o,o,h),p(o,o,c),p(o,o,c),p(i[0],o,c),H(a,i[0]),p(a,a,c),hr(a,h)&&p(i[0],i[0],pe),H(a,i[0]),p(a,a,c),hr(a,h)?-1:(cr(i[0])===A[31]>>7&&G(i[0],y,i[0]),p(i[3],i[0],i[1]),0)}I(Xn,"unpackneg");function mt(i,A,o,a){var h,c=new Uint8Array(32),l=new Uint8Array(64),_=[n(),n(),n(),n()],f=[n(),n(),n(),n()];if(o<64||Xn(f,a))return-1;for(h=0;h<o;h++)i[h]=A[h];for(h=0;h<32;h++)i[h+32]=a[h];if(l=fe(i,64),bt(l),Bt(_,f,l),De(f,A.subarray(32)),Je(_,f),Xe(c,_),o-=64,lt(A,0,c,0)){for(h=0;h<o;h++)i[h]=0;return-1}for(h=0;h<o;h++)i[h]=A[h+64];return o}I(mt,"crypto_sign_open");var Dt=32,ze=24,Se=32,ue=16,Ue=32,We=32,ve=32,Fe=32,St=32,Er=ze,qn=Se,zn=ue,q=64,oe=32,le=32,Ut=32,vt=64;e.lowlevel={crypto_core_hsalsa20:Ge,crypto_stream_xor:_t,crypto_stream:sr,crypto_stream_salsa20_xor:Ct,crypto_stream_salsa20:ar,crypto_onetimeauth:dt,crypto_onetimeauth_verify:Ir,crypto_verify_16:ir,crypto_verify_32:lt,crypto_secretbox:wt,crypto_secretbox_open:Et,crypto_scalarmult:Re,crypto_scalarmult_base:Ne,crypto_box_beforenm:Te,crypto_box_afternm:lr,crypto_box:Hn,crypto_box_open:Pn,crypto_box_keypair:ur,crypto_hash:yr,crypto_sign:wr,crypto_sign_keypair:pt,crypto_sign_open:mt,crypto_secretbox_KEYBYTES:Dt,crypto_secretbox_NONCEBYTES:ze,crypto_secretbox_ZEROBYTES:Se,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:Ue,crypto_scalarmult_SCALARBYTES:We,crypto_box_PUBLICKEYBYTES:ve,crypto_box_SECRETKEYBYTES:Fe,crypto_box_BEFORENMBYTES:St,crypto_box_NONCEBYTES:Er,crypto_box_ZEROBYTES:qn,crypto_box_BOXZEROBYTES:zn,crypto_sign_BYTES:q,crypto_sign_PUBLICKEYBYTES:oe,crypto_sign_SECRETKEYBYTES:le,crypto_sign_SEEDBYTES:Ut,crypto_hash_BYTES:vt,gf:n,D:b,L:qe,pack25519:ge,unpack25519:xt,M:p,A:O,S:H,Z:G,pow2523:fr,add:Je,set25519:X,modL:Qt,scalarmult:Bt,scalarbase:De};function xr(i,A){if(i.length!==Dt)throw new Error("bad key size");if(A.length!==ze)throw new Error("bad nonce size")}I(xr,"checkLengths");function Wn(i,A){if(i.length!==ve)throw new Error("bad public key size");if(A.length!==Fe)throw new Error("bad secret key size")}I(Wn,"checkBoxLengths");function L(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}I(L,"checkArrayTypes");function Br(i){for(var A=0;A<i.length;A++)i[A]=0}I(Br,"cleanup"),e.randomBytes=function(i){var A=new Uint8Array(i);return s(A,i),A},e.secretbox=function(i,A,o){L(i,A,o),xr(o,A);for(var a=new Uint8Array(Se+i.length),h=new Uint8Array(a.length),c=0;c<i.length;c++)a[c+Se]=i[c];return wt(h,a,a.length,A,o),h.subarray(ue)},e.secretbox.open=function(i,A,o){L(i,A,o),xr(o,A);for(var a=new Uint8Array(ue+i.length),h=new Uint8Array(a.length),c=0;c<i.length;c++)a[c+ue]=i[c];return a.length<32||Et(h,a,a.length,A,o)!==0?null:h.subarray(Se)},e.secretbox.keyLength=Dt,e.secretbox.nonceLength=ze,e.secretbox.overheadLength=ue,e.scalarMult=function(i,A){if(L(i,A),i.length!==We)throw new Error("bad n size");if(A.length!==Ue)throw new Error("bad p size");var o=new Uint8Array(Ue);return Re(o,i,A),o},e.scalarMult.base=function(i){if(L(i),i.length!==We)throw new Error("bad n size");var A=new Uint8Array(Ue);return Ne(A,i),A},e.scalarMult.scalarLength=We,e.scalarMult.groupElementLength=Ue,e.box=function(i,A,o,a){var h=e.box.before(o,a);return e.secretbox(i,A,h)},e.box.before=function(i,A){L(i,A),Wn(i,A);var o=new Uint8Array(St);return Te(o,i,A),o},e.box.after=e.secretbox,e.box.open=function(i,A,o,a){var h=e.box.before(o,a);return e.secretbox.open(i,A,h)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var i=new Uint8Array(ve),A=new Uint8Array(Fe);return ur(i,A),{publicKey:i,secretKey:A}},e.box.keyPair.fromSecretKey=function(i){if(L(i),i.length!==Fe)throw new Error("bad secret key size");var A=new Uint8Array(ve);return Ne(A,i),{publicKey:A,secretKey:new Uint8Array(i)}},e.box.publicKeyLength=ve,e.box.secretKeyLength=Fe,e.box.sharedKeyLength=St,e.box.nonceLength=Er,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(i,A){if(L(i,A),A.length!==le)throw new Error("bad secret key size");var o=new Uint8Array(q+i.length);return wr(o,i,i.length,A),o},e.sign.open=function(i,A){if(L(i,A),A.length!==oe)throw new Error("bad public key size");var o=new Uint8Array(i.length),a=mt(o,i,i.length,A);if(a<0)return null;for(var h=new Uint8Array(a),c=0;c<h.length;c++)h[c]=o[c];return h},e.sign.detached=function(i,A){for(var o=e.sign(i,A),a=new Uint8Array(q),h=0;h<a.length;h++)a[h]=o[h];return a},e.sign.detached.verify=function(i,A,o){if(L(i,A,o),A.length!==q)throw new Error("bad signature size");if(o.length!==oe)throw new Error("bad public key size");var a=new Uint8Array(q+i.length),h=new Uint8Array(q+i.length),c;for(c=0;c<q;c++)a[c]=A[c];for(c=0;c<i.length;c++)a[c+q]=i[c];return mt(h,a,a.length,o)>=0};function pr(i){let A=new Uint8Array(64),o=[n(),n(),n(),n()],a,h=new Uint8Array(32);return A=fe(i,64),A[0]&=248,A[31]&=127,A[31]|=64,De(o,A),Xe(h,o),h}I(pr,"derivePublicFromSecret"),e.sign.keyPair=function(){var i=new Uint8Array(oe),A=new Uint8Array(le);return pt(i,A),{publicKey:i,secretKey:A}},e.sign.keyPair.fromSecretKey=function(i){if(L(i),i.length!==le)throw new Error("bad secret key size");var A=new Uint8Array(oe);return A=pr(i),{publicKey:A,secretKey:new Uint8Array(i)}},e.sign.keyPair.fromSeed=function(i){if(L(i),i.length!==Ut)throw new Error("bad seed size");for(var A=new Uint8Array(oe),o=new Uint8Array(le),a=0;a<32;a++)o[a]=i[a];return pt(A,o,!0),{publicKey:A,secretKey:o}},e.sign.publicKeyLength=oe,e.sign.secretKeyLength=le,e.sign.seedLength=Ut,e.sign.signatureLength=q,e.hash=function(i){L(i);var A=new Uint8Array(vt);return yr(A,i,i.length),A},e.hash.hashLength=vt,e.verify=function(i,A){return L(i,A),i.length===0||A.length===0||i.length!==A.length?!1:ut(i,0,A,0,i.length)===0},e.setPRNG=function(i){s=i},function(){var i=typeof self<"u"?self.crypto||self.msCrypto:null;if(i&&i.getRandomValues){var A=65536;e.setPRNG(function(o,a){var h,c=new Uint8Array(a);for(h=0;h<a;h+=A)i.getRandomValues(c.subarray(h,h+Math.min(a-h,A)));for(h=0;h<a;h++)o[h]=c[h];Br(c)})}else typeof Qr<"u"&&i&&i.randomBytes&&e.setPRNG(function(o,a){var h,c=i.randomBytes(a);for(h=0;h<a;h++)o[h]=c[h];Br(c)})}()})(typeof nt<"u"&&nt.exports?nt.exports:self.nacl=self.nacl||{})});var At=S(E=>{"use strict";var oo=E&&E.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:I(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Ao=E&&E.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),ao=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&oo(r,e,t);return Ao(r,e),r},so=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E,"__esModule",{value:!0});E.verify_signed_message=E.sign_message=E.construct_message_block_and_hash=E.verify_block_hash=E.sign_block_hash=E.hash_block=E.get_public_key_from_address=E.get_address_from_public_key=E.get_public_key_from_private_key=E.get_private_key_from_seed=E.raw_to_whole=E.whole_to_raw=E.utf8_to_uint8array=E.base32_to_uint8array=E.uint8array_to_base32=E.int_to_uint8array=E.hex_to_uint8array=E.uint8array_to_hex=void 0;var Ot=ao(Cn()),ot=so(Pt()),Io="0000000000000000000000000000000000000000000000000000000000000006",Gt="62616E616E6F6D73672D",Me=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];function He(e){let r="";for(let t=0;t<e.length;t++)r+=Me[Math.floor(e[t]/16)]+Me[e[t]%16];return r}I(He,"uint8array_to_hex");E.uint8array_to_hex=He;function U(e){e=e.toUpperCase();let r=new Uint8Array(Math.ceil(e.length/2));for(let t=0;t<Math.floor(e.length/2);t++)r[t]=Me.indexOf(e[t*2])*16+Me.indexOf(e[t*2+1]);return e.length/2%1!==0&&(r[r.length-1]=Me.indexOf(e[e.length-1])*16),r}I(U,"hex_to_uint8array");E.hex_to_uint8array=U;function _n(e,r){let t=new Uint8Array(r);for(let n=1;n<=r;n++)if(n===1)t[r-n]=e%16**2;else{let s=e;for(let g=n-1;g>0;g--)s-=t[r-g]*16**(2*(g-1));t[r-n]=Math.floor(s/16**(2*(n-1)))}return t}I(_n,"int_to_uint8array");E.int_to_uint8array=_n;var yn=["1","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","m","n","o","p","q","r","s","t","u","w","x","y","z"];function Vt(e){let r="";for(let t=0;t<Math.floor(e.length*8/5);t++){let n=t*5,s=Math.floor(n/8),g=n%8,C,y=8-g;if(y>=5)C=e[s]>>y-5&31;else{let w=5-y;C=(e[s]<<w&31)+(e[s+1]>>8-w&2**(8-w)-1)}r+=yn[C]}return r}I(Vt,"uint8array_to_base32");E.uint8array_to_base32=Vt;function ho(e,r){let t="",n=e;for(let s=0;s<r;s++)n>=2**(r-1-s)?(t+="1",n-=2**(r-1-s)):t+="0";return t}I(ho,"int_to_binary");function co(e){let r=0;for(let t=0;t<e.length;t++)r+=e[t]==="1"?2**(e.length-1-t):0;return r}I(co,"binary_to_int");function dn(e){let r=e.split("").map(n=>ho(yn.indexOf(n),5)).join(""),t=new Uint8Array(Math.ceil(e.length*5/8));for(let n=0;n<t.length;n++)t[n]=co(r.slice(n*8,n*8+8));return t}I(dn,"base32_to_uint8array");E.base32_to_uint8array=dn;function wn(e){return new TextEncoder().encode(e)}I(wn,"utf8_to_uint8array");E.utf8_to_uint8array=wn;var En=29;function go(e,r=En){let t;if(e.includes(".")){let n=e.split(".");if(0>r-n[1].length)throw Error(`Too many decimals, cannot exceed ${r}`);t=BigInt(n[0])*BigInt(10)**BigInt(r)+BigInt(n[1])*BigInt(10)**BigInt(r-n[1].length)}else t=BigInt(e)*BigInt(10)**BigInt(r);return t}I(go,"whole_to_raw");E.whole_to_raw=go;function fo(e,r=En){let t=e.toString(),n;if(t.length>r)n=t.slice(0,-r)+"."+t.slice(-r);else{let g=r-t.length;n="0."+"0".repeat(g>0?g:0)+t}let s=n.length;for(let g=0;g<s;g++)(n.slice(-1)==="0"||n.slice(-1)===".")&&(n=n.slice(0,-1));return n}I(fo,"raw_to_whole");E.raw_to_whole=fo;function uo(e,r){return(0,ot.default)(32).update(U(e)).update(_n(r,4)).digest("hex").toUpperCase()}I(uo,"get_private_key_from_seed");E.get_private_key_from_seed=uo;function xn(e){return He(Ot.sign.keyPair.fromSecretKey(U(e)).publicKey)}I(xn,"get_public_key_from_private_key");E.get_public_key_from_private_key=xn;function Rt(e,r="ban_"){let t=Vt(U(`0${e}`)),n=Vt((0,ot.default)(5,null,null,null,!0).update(U(e)).digest().reverse());return`ban_${t}${n}`}I(Rt,"get_address_from_public_key");E.get_address_from_public_key=Rt;function it(e){let r=dn(e.split("_")[1].slice(0,52));return r[r.length-1]=r[r.length-1]*16,He(r).slice(1,-1)}I(it,"get_public_key_from_address");E.get_public_key_from_address=it;function Bn(e){let r=BigInt(e.balance).toString(16).toUpperCase();for(;r.length<32;)r="0"+r;return(0,ot.default)(32).update(U(Io)).update(U(it(e.account))).update(U(e.previous)).update(U(it(e.representative))).update(U(r)).update(U(e.link)).digest("hex").toUpperCase()}I(Bn,"hash_block");E.hash_block=Bn;function pn(e,r){return He(Ot.sign.detached(U(r),U(e)))}I(pn,"sign_block_hash");E.sign_block_hash=pn;function Qn(e,r,t){return Ot.sign.detached.verify(U(t),U(r),U(e))}I(Qn,"verify_block_hash");E.verify_block_hash=Qn;function Nt(e,r,t=Gt){let n="0".repeat(64),s={type:"state",account:e,previous:n,representative:Rt(He((0,ot.default)(32).update(U(t)).update(wn(r)).digest())),balance:"0",link:n};return Bn(s)}I(Nt,"construct_message_block_and_hash");E.construct_message_block_and_hash=Nt;function lo(e,r,t=Gt){return pn(e,Nt(Rt(xn(e)),r,t))}I(lo,"sign_message");E.sign_message=lo;function Co(e,r,t,n=Gt){return Qn(it(e),t,Nt(e,r,n))}I(Co,"verify_signed_message");E.verify_signed_message=Co});var bn=S(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.RPCWithBackup=de.RPC=void 0;var _o=At(),at=class{static{I(this,"RPC")}constructor(r,t=!1){this.DECIMALS=void 0,this.debug=!1,this.rpc_url=r,this.use_pending=t}async call(r){this.debug&&console.log(JSON.stringify(r));let t=await fetch(this.rpc_url,{method:"POST",headers:this.headers??{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok&&this.debug&&console.log(await t.text()),!t.ok)throw Error(`Request to RPC node failed with status code ${t.status}`);let n=await t.json();if(n.error)throw Error(`RPC node response: ${n.error}`);return n}async get_block_count(){return await this.call({action:"block_count"})}async get_block_info(r){return await this.call({action:"block_info",hash:r,json_block:!0})}async get_blocks(r){return await this.call({action:"blocks",hashes:r,json_block:!0})}async get_blocks_info(r){return await this.call({action:"blocks_info",hashes:r,json_block:!0})}async get_representatives(){return await this.call({action:"representatives"})}async get_representatives_online(r){return await this.call({action:"representatives_online",weight:r?!0:void 0})}async get_account_history(r,t,n,s,g,C,y){return await this.call({action:"account_history",account:r,count:`${t}`,raw:n?!0:void 0,head:s,offset:g?`${g}`:void 0,reverse:C?!0:void 0,account_filter:y})}async get_account_info(r,t,n,s,g){return await this.call({action:"account_info",account:r,include_confirmed:t?!0:void 0,representative:n?!0:void 0,weight:s?!0:void 0,pending:g?!0:void 0})}async get_account_balance(r){return await this.call({action:"account_balance",account:r})}async get_accounts_balances(r){return await this.call({action:"accounts_balances",accounts:r})}async get_account_representative(r){return await this.call({action:"account_representative",account:r})}async get_accounts_representatives(r){return await this.call({action:"accounts_representatives",account:r})}async get_account_weight(r){return await this.call({action:"account_weight",account:r})}async get_account_receivable(r,t,n,s){return await this.call({action:this.use_pending?"pending":"receivable",account:r,count:t?`${t}`:void 0,threshold:n?(0,_o.whole_to_raw)(n,this.DECIMALS).toString():void 0,source:s?!0:void 0})}async get_delegators(r,t,n,s){return await this.call({action:"delegators",account:r,threshold:t?`${t}`:void 0,count:n?`${n}`:void 0,start:s})}async get_delegators_count(r){return await this.call({action:"account_weight",account:r})}};de.RPC=at;var Tt=class extends at{static{I(this,"RPCWithBackup")}constructor(r,t,n=!1){if(r.length<2)throw Error("Must provide at least two RPC URLs");super(r[0],n),this.rpc_urls=r,this.timeout=t}async call(r){let t=0;for(;;)try{let n=await fetch(this.rpc_urls[t],{method:"POST",headers:this.headers??{"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout)});if(!n.ok)throw Error(`Request to RPC node failed with status code ${n.status}`);let s=await n.json();if(s.error)throw Error(`RPC node response: ${s.error}`);return s}catch(n){if(!this.rpc_urls[++t])throw Error(n)}}};de.RPCWithBackup=Tt});var Dn=S(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0})});var Sn=S(V=>{"use strict";var yo=V&&V.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:I(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),wo=V&&V.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Eo=V&&V.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&yo(r,e,t);return wo(r,e),r};Object.defineProperty(V,"__esModule",{value:!0});V.PrivateKeyAccount=V.Wallet=void 0;var F=Eo(At()),st=class e{static{I(this,"Wallet")}constructor(r,t,n=0,s){if(this.add_do_work=!0,this.rpc=r,typeof t!="string"||t?.length!==64)throw Error("Seed needs to be 64 character (hex) string");this.seed=t,this.index=n,this.work_function=s}static gen_random_wallet(r){let t=new Uint8Array(32);crypto.getRandomValues(t);let n=F.uint8array_to_hex(t);return new e(r,n)}get private_key(){return F.get_private_key_from_seed(this.seed,this.index)}get public_key(){return F.get_public_key_from_private_key(this.private_key)}get address(){return F.get_address_from_public_key(this.public_key)}async send_process(r,t){return(await this.rpc.call({action:"process",json_block:"true",subtype:t,block:r,do_work:!r.work&&this.add_do_work?!0:void 0})).hash}async send(r,t,n,s,g){let C=F.whole_to_raw(t,this.rpc.DECIMALS),y=g??await this.get_account_info(void 0,!0),w=F.get_public_key_from_address(r);s||(s=y.representative);let x=BigInt(y.balance),b=x-C;if(b<0n)throw Error(`Insufficient funds to send. Cannot send more than balance; ie, Before balance (raw: ${x}) less than send amount (raw: ${C})`);let D={type:"state",account:this.address,previous:y.frontier,representative:s,balance:b.toString(),link:w,link_as_account:r},K=F.hash_block(D),$;n&&($=await this.work_function(K));let pe=F.sign_block_hash(this.private_key,K),ee={...D,signature:pe,work:$};return await this.send_process(ee,"send")}async send_all(r,t,n){let s=await this.get_account_info(void 0,!0);return await this.send(r,F.raw_to_whole(BigInt(s.balance),this.rpc.DECIMALS),t,n,s)}async receive(r,t,n){let s=await this.rpc.get_block_info(r),g=0n;n||(n=this.address);let C;try{let K=await this.get_account_info(void 0,!0);C=K.frontier,n=K.representative,g=BigInt(K.balance)}catch{C="0".repeat(64)}let y={type:"state",account:this.address,previous:C,representative:n,balance:(g+BigInt(s.amount)).toString(),link:r},w=F.hash_block(y),x;t&&(x=await this.work_function(w));let b=F.sign_block_hash(this.private_key,w),D={...y,signature:b,work:x};return await this.send_process(D,"receive")}async receive_all(r=20,t,n){let s=(await this.get_account_receivable(r,t,!0)).blocks,g,C,y;try{let x=await this.get_account_info(void 0,!0);g=x.frontier,C=x.representative,y=BigInt(x.balance)}catch{g="0".repeat(64),C=this.address,y=BigInt(0)}let w=[];for(let x of Object.keys(s)){let b=(y+BigInt(s[x].amount)).toString(),D={type:"state",account:this.address,previous:g,representative:C,balance:b,link:x},K=F.hash_block(D),$;n&&($=await this.work_function(K));let pe=F.sign_block_hash(this.private_key,K),ee={...D,signature:pe,work:$};await this.send_process(ee,"receive"),w.push(K),g=K,y=BigInt(b)}return w}async change_representative(r,t){let n=await this.get_account_info(),s={type:"state",account:this.address,previous:n.frontier,representative:r,balance:n.balance,link:"0".repeat(64)},g=F.hash_block(s),C;t&&(C=await this.work_function(g));let y=F.sign_block_hash(this.private_key,g),w={...s,signature:y,work:C};return await this.send_process(w,"change")}async change_rep(r,t){return await this.change_representative(r,t)}async get_account_info(r,t,n,s){return await this.rpc.get_account_info(this.address,r,t,n,s)}async get_account_receivable(r,t,n){return await this.rpc.get_account_receivable(this.address,r,t,n)}sign_message(r){return F.sign_message(this.private_key,r)}};V.Wallet=st;var jt=class extends st{static{I(this,"PrivateKeyAccount")}constructor(r,t,n){if(typeof t!="string"||t?.length!==64)throw Error("Priv key needs to be 64 character (hex) string");super(r,t,0,n),this._private_key=t}get private_key(){return this._private_key}};V.PrivateKeyAccount=jt});var Un=S(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.RPCWorkProvider=void 0;var Jt=class{static{I(this,"RPCWorkProvider")}constructor(r){this.extra_payload={},this.rpc=r}async request_work(r){return(await this.rpc.call({action:"work_generate",hash:r,...this.extra_payload})).work}};It.RPCWorkProvider=Jt});var we=S(N=>{"use strict";var xo=N&&N.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:I(function(){return r[t]},"get")}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Pe=N&&N.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&xo(r,e,t)};Object.defineProperty(N,"__esModule",{value:!0});Pe(At(),N);Pe(bn(),N);Pe(Dn(),N);Pe(Sn(),N);Pe(Un(),N)});var qt={};Ft(qt,{BSF_HEX_CHARS:()=>ct,HEX_CHARS:()=>Xt,LOG:()=>Ve,address_to_cid_v0:()=>mo,base58_to_hex:()=>Yn,bigint_to_uint8array:()=>Kn,bns_seed_format_to_hex:()=>po,cid_v0_to_address:()=>bo,decode_domain_name:()=>Ee,encode_domain_name:()=>ht,hex_to_base58:()=>Fn,hex_to_bns_seed_format:()=>Bo,is_bns_seed_format:()=>Qo});var Z=Ke(we());var Ve=!0;function ht(e){if(e.includes(".")||e.includes("\0")||e.includes('"'))throw new Error(`Domain name cannot include '.' or '"' or '\\u0000'`);let r=(0,Z.uint8array_to_hex)(new TextEncoder().encode(e));if(r.length>64)throw new Error("Cannot be more than 32 bytes");return r.length<64&&(r="0".repeat(64-r.length)+r),r}I(ht,"encode_domain_name");function Ee(e){return new TextDecoder().decode((0,Z.hex_to_uint8array)(e)).replace(/\u0000/g,"")}I(Ee,"decode_domain_name");var vn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Fn(e){let r=BigInt(`0x${e}`),t="";for(;t+=vn[Number(r%BigInt(58))],r=r/BigInt(58),r!==0n;);return t.split("").reverse().join("")}I(Fn,"hex_to_base58");var Xt="0123456789ABCDEF",ct="ghijklmnopqrstuv";function Bo(e){return e.split("").map(r=>ct[Xt.indexOf(r.toUpperCase())]).join("")}I(Bo,"hex_to_bns_seed_format");function po(e){return e.split("").map(r=>Xt[ct.indexOf(r.toLowerCase())]).join("")}I(po,"bns_seed_format_to_hex");function Qo(e){return e.split("").every(r=>ct.includes(r.toLowerCase()))}I(Qo,"is_bns_seed_format");function Kn(e,r){let t=new Uint8Array(r),n=e;for(let s=1;s<=r;s++)t[r-s]=Number(n%256n),n/=256n;return t}I(Kn,"bigint_to_uint8array");function Yn(e){let r=0n;for(let t=0;t<e.length;t++)r+=BigInt(vn.indexOf(e[e.length-t-1]))*BigInt(58)**BigInt(t);return(0,Z.uint8array_to_hex)(Kn(r,34))}I(Yn,"base58_to_hex");function bo(e){return(0,Z.get_address_from_public_key)(Yn(e).slice(4))}I(bo,"cid_v0_to_address");function mo(e){return Fn("1220"+(0,Z.get_public_key_from_address)(e))}I(mo,"address_to_cid_v0");var Oe=Ke(we()),se=(0,Oe.whole_to_raw)("0.0012070301"),ne=(0,Oe.whole_to_raw)("0.00120703011"),zt="451"+"1".repeat(61),Ie=(0,Oe.get_address_from_public_key)(zt);var Zt={};Ft(Zt,{DomainAccount:()=>Be,Resolver:()=>Wt,TLDAccount:()=>xe});var T=Ke(we());var gt=class{static{I(this,"Account")}constructor(r,t){this.rpc=r,this.address=t}async get_open_and_frontier(){let r=await this.rpc.get_account_info(this.address,!0);return[r.open_block,r.confirmation_height_frontier??r.frontier]}async get_history_from_open(r,t){return await this.rpc.get_account_history(this.address,t,!0,r,void 0,!0)}},xe=class extends gt{static{I(this,"TLDAccount")}constructor(r,t){super(r,t),this.all_issued=[]}async get_specific(r,t=500){let[n,s]=await this.get_open_and_frontier(),g=n;for(;;){let{history:C}=await this.get_history_from_open(g,t);for(let y of C){let w=BigInt(y.amount??0);if(y.subtype==="send"&&w>=se&&w<=ne){let x=Ee((0,T.get_public_key_from_address)(y.representative));if(r===x)return{tld:this.address,name:r,history:[{type:"transfer",block:y,to:(0,T.get_address_from_public_key)(y.link)}]}}if(y.representative===Ie&&y.subtype==="change"||y.hash===s)return}g=C[C.length-1].hash}}async get_all_issued(r=500){let[t,n]=await this.get_open_and_frontier(),s=t,g={};for(;;){let{history:C}=await this.get_history_from_open(s,r);for(let y of C){let w=BigInt(y.amount??0);if(y.subtype==="send"&&w>=se&&w<=ne){let x=Ee((0,T.get_public_key_from_address)(y.representative));g[x]?Ve&&console.log(`"${x}" already issued but TLD tried to issue again. Invalid.`):g[x]={tld:this.address,name:x,history:[{type:"transfer",block:y,to:(0,T.get_address_from_public_key)(y.link)}]}}if(y.representative===Ie&&y.subtype==="change"||y.hash===n)return this.all_issued=Object.values(g),this.all_issued}s=C[C.length-1].hash}}},Be=class extends gt{static{I(this,"DomainAccount")}constructor(r,t,n,s){super(r,t),this.domain=n,this.max_rpc_calls=s,this.rpc_calls=0}async crawl(r=500){let t,n;try{[t,n]=await this.get_open_and_frontier(),this.rpc_calls+=1}catch{return Ve&&console.log("Not yet received"),this.domain}if(this.rpc_calls===this.max_rpc_calls)throw new Error("Max RPC calls reached");let s=t;for(;;){let{history:g}=await this.get_history_from_open(s,r);if(this.rpc_calls+=1,this.rpc_calls===this.max_rpc_calls)throw new Error("Max RPC calls reached");for(let C of g){let y=BigInt(C.amount??0);if(C.height==="1"){if(C.link!==this.domain.history[this.domain.history.length-1]?.block.hash)return Ve&&console.log("Domain burned"),this.domain.burned=!0,this.domain;this.domain.history.push({type:"receive",block:C})}else if(C.subtype==="send"&&y>=se&&y<=ne){let w=Ee((0,T.get_public_key_from_address)(C.representative));if(this.domain.name===w)return this.domain.resolved_address=void 0,this.domain.metadata_hash=void 0,this.domain.history.push({type:"transfer",block:C,to:(0,T.get_address_from_public_key)(C.link)}),this.domain}else{if(C.subtype==="change"&&C.representative===Ie)return this.domain.history.push({type:"freeze",block:C}),this.domain;C.subtype==="change"?(this.domain.metadata_hash=(0,T.get_public_key_from_address)(C.representative),this.domain.history.push({type:"metadata",block:C,metadata_hash:this.domain.metadata_hash})):C.subtype==="send"&&y===4224n&&(this.domain.resolved_address=(0,T.get_address_from_public_key)(C.link),this.domain.history.push({type:"resolver",block:C,resolved_address:this.domain.resolved_address}))}if(C.hash===n)return this.domain}s=g[g.length-1].hash}}},Wt=class{static{I(this,"Resolver")}constructor(r,t,n){this.rpc=r,this.tld_mapping=t,this.max_rpc_calls_after_tld=n}async resolve(r,t,n=500){if(r=r.toLowerCase(),!this.tld_mapping[t])throw new Error("No TLD Account found for that TLD");let g=await new xe(this.rpc,this.tld_mapping[t]).get_specific(r,n);if(!g)return g;let C=this.max_rpc_calls_after_tld;for(;;){let y=g.history[g.history.length-1].to,w=new Be(this.rpc,y,g,C),x=g.history.length;if(g=await w.crawl(n),C-=w.rpc_calls,g.history[g.history.length-1].type!=="transfer"||g.burned||x===g.history.length)break}return g}async resolve_backwards_ish(r,t,n=500){let s=(await this.rpc.get_account_info(r,!0)).open_block,g=(await this.rpc.get_block_info(s)).contents.link,C=await this.rpc.get_block_info(g),y=Ee((0,T.get_public_key_from_address)(C.contents.representative)),w=await this.resolve(y,t,n);if((w?.history.slice().reverse().find(b=>b.type==="transfer")).to===r)return w}};var tr={};Ft(tr,{DomainAccountManager:()=>er,TLDAccountManager:()=>$t});var ie=Ke(we());var $t=class extends xe{static{I(this,"TLDAccountManager")}constructor(r,t){super(r,t.address),this.wallet=t}async issue_domain_name(r,t){if(r=r.toLowerCase(),this.all_issued.some(s=>s.name===r))throw new Error("Cannot issue a domain name that is already issued");return await this.wallet.send(t,"0.00120703011",void 0,(0,ie.get_address_from_public_key)(ht(r)))}async freeze(){await this.wallet.change_representative(Ie)}async receive(){await this.wallet.receive_all()}},er=class extends Be{static{I(this,"DomainAccountManager")}constructor(r,t,n){super(r,t.address),this.wallet=t,this.domain=n}async receive_domain(r,t,n){let s=!1,{history:g}=await this.rpc.get_account_history(this.address,1);if(g.length>1&&!n)throw s=!0,new Error("`allow_burning` must be true in order to receive this domain");let C=await this.rpc.get_block_info(r),y=BigInt(C.amount);if(y<se||y>ne)throw new Error("`receive_hash` is not a Domain Transfer block");await this.wallet.receive(r,void 0,t)}async transfer_domain(r,t){let n=(await this.wallet.get_account_info()).balance,s=(0,ie.raw_to_whole)(ne);return ne>BigInt(n)&&se<=BigInt(n)&&(s=(0,ie.raw_to_whole)(BigInt(n))),await this.wallet.send(t,s,void 0,(0,ie.get_address_from_public_key)(ht(r)))}async declare_domain_metadata(r){if(r===zt)throw new Error("A metadata hash of all 1s freezes the domain");await this.wallet.change_representative((0,ie.get_address_from_public_key)(r))}async declare_domain_resolve_to(r){await this.wallet.send(r,(0,ie.raw_to_whole)(4224n))}async freeze(){await this.wallet.change_representative(Ie)}};var kn={};var Do=Ke(we());window.bns={...qt,...Zt,...tr,...kn,banani:Do};})();
